<html>
<style>
body { margin:0;padding:0;background: #ccc;}
canvas { border:1px solid #444;}
</style>
<body>
</body>
<script src='js/dom.js'></script>
<script src='js/colours.js'></script>
<script>
(function() {
	var experiments = [
		["additive"],
		["isometric_cubes"],
		["mining_branches"],
		["oscillate_curtain"],
		["recursive"],
		["spiral_even"],
		["squaretracer"],
		["tea"],
		["polyhedra","3d"],
		["polyhedra_three","THREE"],
		["voronoi_stripes", "voronoi"],
	];

	function createScript(s) {
		var script = dom.createElement("script");
		script.src = s;
		document.body.appendChild(script);
	}

	for(var e in experiments) {
		var button = dom.createElement("button");
		button.addEventListener("click", function(event){
			var index = event.target.index;
			var exp = experiments[index];
			for (var i = exp.length - 1; i > -1;i--) {
				var src = "js/" + exp[i] +  ".js";
				if (exp[i] == "THREE") {
					src = "lib/three/three.min.js";
				}
				createScript(src);
			}
		});
		button.index = e;
		button.innerHTML = experiments[e][0];
		document.body.appendChild(button);
	}
}).call(this);
</script>
</html>